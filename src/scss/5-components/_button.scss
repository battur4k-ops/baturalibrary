.ui-button {
  text-decoration: none;
  color: inherit;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  
  --btn-h: var(--ui-h-btn-master); 
  --btn-radius: calc(var(--radius-master) * 0.4); 
  
  width: auto;
  min-width: 0; 
  padding-inline: var(--ui-p-btn); 

  --_bg-op: var(--s-glass-op-base);
  --_stroke-op: var(--s-stroke-op-idle);
  --_text-op: var(--s-text-op-idle);

  @include glass-interactive(var(--btn-radius));
  
  @extend .text-data;
  line-height: 1;

  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: var(--btn-h);
  
  padding-block: 0;
  backface-visibility: hidden;
  
  cursor: pointer;
  z-index: 10;
  color: rgba(var(--p-white-rgb), var(--_text-op));

  span {
    display: block;
    line-height: 1;
    pointer-events: none;
  }

  transition: 
    background-color var(--d-fast) var(--e-out),
    box-shadow var(--d-fast) var(--e-out),
    color var(--d-fast) var(--e-out),
    backdrop-filter var(--d-fast) var(--e-out),
    transform var(--d-fast) var(--e-out);
  
  transition-delay: var(--stagger-step);

  .b-static-card:hover &, .b-card:hover & {
    transition-delay: 0s; 
    --_bg-op: var(--s-glass-op-hover);
    --_stroke-op: var(--s-stroke-op-hover);
    --_text-op: var(--s-text-op-hover);
  }

  &.ui-button:hover {
    transition-delay: 0s;
    --_bg-op: var(--s-glass-op-active);
    --_stroke-op: var(--s-stroke-op-active);
    --_text-op: 1;
  }

  &:active {
    transform: scale(var(--scale-press));
    transition-duration: 0.1s;
  }

  #tagsContainer &, .lab-mobile-switch & {
    --btn-h: var(--ui-h-btn-master);
    padding-inline: calc(var(--unit) * 6);
    transition-delay: 0s;
    
    --_bg-op: var(--s-glass-op-hover);
    --_stroke-op: var(--s-stroke-op-hover);

    &:hover, &.is-active { 
      --_bg-op: var(--s-glass-op-active); 
      --_stroke-op: var(--s-stroke-op-active); 
      --_text-op: 1; 
      backdrop-filter: blur(var(--s-glass-blur-strong));
    }
  }

  &.ui-toggle-tag {
    --btn-h: var(--ui-h-btn-master);
    padding-inline: calc(var(--unit) * 6);
    transition-delay: 0s;
    --_bg-op: var(--s-glass-op-hover);
    --_stroke-op: var(--s-stroke-op-hover);
    width: 100%;

    &:hover, &.is-active { 
      --_bg-op: var(--s-glass-op-active); 
      --_stroke-op: var(--s-stroke-op-active); 
      --_text-op: 1; 
      backdrop-filter: blur(var(--s-glass-blur-strong));
      box-shadow: inset 0 0 0 var(--s-stroke-width) rgba(var(--m-glass-base-rgb), var(--s-stroke-op-active));
    }
  }

  .b-navbar & {
    --btn-h: var(--nav-content-h); 
    --btn-radius: var(--nav-inner-radius);
    padding-inline: var(--space-xs);
    
    &--logo, &--close {
      width: var(--btn-h);
      padding: 0;
      aspect-ratio: 1/1;
    }
  }

  &--close:not(.b-navbar &) {
    width: var(--btn-h);
    padding: 0;
  }

  &:not(.b-static-card &):not(.b-card &):not(.b-navbar &):not(#tagsContainer &):not(.lab-mobile-switch &) {
    --_bg-op: var(--s-glass-op-hover);
    --_stroke-op: var(--s-stroke-op-hover);
  }
}